<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Arcana · Hair TP Clinic</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;500;600&family=Jost:wght@300;400;500;600&display=swap" rel="stylesheet" />
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="cliento-custom-theme min-h-screen text-[color:var(--arcana-text)]">
  <div class="mx-auto flex min-h-screen max-w-3xl flex-col">
    <header class="sticky top-0 z-10 border-b border-[color:var(--arcana-border)] bg-[color:var(--arcana-surface)] px-4 py-4 backdrop-blur">
      <div class="flex items-center justify-between gap-3">
        <div class="flex min-w-0 items-center gap-3">
          <img
            id="brandMark"
            src="/assets/hairtpclinic-mark.svg"
            alt=""
            class="h-[108px] w-[108px] shrink-0 opacity-95"
            loading="eager"
            decoding="async"
          />
          <div class="min-w-0">
            <div class="brand-display text-lg leading-tight">Arcana</div>
            <div id="brandSubtitle" class="text-sm text-[color:var(--arcana-text-muted)]">Hair TP Clinic · chat & bokning</div>
          </div>
        </div>
        <div class="flex items-center gap-2">
          <button id="newChatBtn" class="btn-ghost rounded-lg px-3 py-2 text-sm">
            Ny chatt
          </button>
          <button id="bookBtn" class="btn-primary rounded-lg px-3 py-2 text-sm font-medium">
            Boka tid
          </button>
        </div>
      </div>
      <div class="mt-3 flex flex-wrap gap-2">
        <button class="chip" data-chip="prices" data-suggest="Vad kostar en konsultation?">Priser</button>
        <button class="chip" data-chip="process" data-suggest="Hur går en konsultation till?">Behandling</button>
        <button class="chip" data-chip="aftercare" data-suggest="Vad ska jag tänka på efter en behandling?">Eftervård</button>
        <button class="chip" data-action="open-booking">Boka konsultation</button>
      </div>
    </header>

    <main class="flex-1 px-4 py-6">
      <div class="panel p-4 sm:p-5">
        <div id="messages" class="space-y-4"></div>
      </div>
    </main>

    <footer class="sticky bottom-0 border-t border-[color:var(--arcana-border)] bg-[color:var(--arcana-surface)] px-4 py-4 backdrop-blur">
      <div class="flex items-end gap-2">
        <textarea
          id="messageInput"
          rows="2"
          placeholder="Skriv din fråga…"
          class="input brand-focus min-h-[44px] flex-1 resize-none rounded-xl px-3 py-2 text-sm focus:outline-none"
        ></textarea>
        <button
          id="sendBtn"
          class="btn-primary h-[44px] rounded-xl px-4 text-sm font-medium disabled:cursor-not-allowed disabled:opacity-60"
        >
          Skicka
        </button>
      </div>
      <div class="mt-2 text-xs text-[color:var(--arcana-text-muted)]">
        Vid medicinska frågor: rådgör med kliniken. Vid akuta symtom: ring 112.
      </div>
    </footer>
  </div>

  <!-- Booking modal (Cliento widget) -->
  <div id="bookingModal" class="fixed inset-0 z-50 hidden">
    <div id="bookingBackdrop" class="absolute inset-0 bg-black/70"></div>
    <div class="relative mx-auto flex h-full max-w-3xl flex-col p-4">
      <div class="flex items-center justify-between rounded-t-2xl border border-[color:var(--arcana-border)] bg-[color:var(--arcana-surface)] px-4 py-3 backdrop-blur">
        <div class="min-w-0">
          <div class="text-sm font-semibold text-[color:var(--arcana-text)]">Boka tid</div>
          <div class="text-xs text-[color:var(--arcana-text-muted)]">Öppnas via Cliento</div>
        </div>
        <button id="bookingCloseBtn" class="btn-ghost rounded-lg px-3 py-2 text-sm">
          Stäng
        </button>
      </div>
      <div class="flex-1 overflow-auto rounded-b-2xl border border-t-0 border-[color:rgba(15,10,9,0.16)] bg-white">
        <div id="clientoMount" class="min-h-full p-2">
          <div class="p-4 text-sm text-slate-700">Laddar bokning…</div>
        </div>
      </div>
      <div class="mt-2 text-xs text-[color:var(--arcana-text-muted)]">
        Tips: om du inte hittar en tid som passar kan du skriva här så hjälper vi dig vidare.
      </div>
    </div>
  </div>

  <style>
    /* Cliento theming (via CSS vars) */
    .cliento-custom-theme {
      /* Defaults overridden per brand in public/app.js */
      --arcana-primary: #cabaae;
      --arcana-primary-hover: #d7c9be;
      --arcana-primary-text: #303030;

      --arcana-bg: #303030;
      --arcana-surface: rgba(48, 48, 48, 0.72);
      --arcana-surface-solid: rgba(38, 38, 38, 0.76);
      --arcana-text: #f6f1ee;
      --arcana-text-muted: rgba(246, 241, 238, 0.72);
      --arcana-border: rgba(246, 241, 238, 0.14);
      --arcana-glow: rgba(202, 186, 174, 0.22);

      --cb-color-primary: var(--arcana-primary);
      --cb-color-secondary: #0f172a; /* slate-900 */
      --cb-color-text: #0f172a;
      --cb-color-background: #ffffff;
      --cb-color-muted: #64748b; /* slate-500 */
    }

    body {
      font-family: "Jost", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      background:
        radial-gradient(900px 500px at 15% -10%, var(--arcana-glow) 0%, transparent 60%),
        radial-gradient(900px 500px at 95% 0%, rgba(255, 255, 255, 0.04) 0%, transparent 60%),
        var(--arcana-bg);
    }

    .brand-display {
      font-family: "Cormorant Garamond", ui-serif, Georgia, Cambria, "Times New Roman", Times, serif;
      font-weight: 600;
      letter-spacing: 0.01em;
    }

    .panel {
      border: 1px solid var(--arcana-border);
      background: var(--arcana-surface-solid);
      border-radius: 24px;
      box-shadow: 0 18px 60px rgba(0, 0, 0, 0.45);
    }

    .btn-primary {
      background: var(--arcana-primary);
      color: var(--arcana-primary-text);
      transition: background-color 160ms ease, transform 160ms ease;
    }
    .btn-primary:hover { background: var(--arcana-primary-hover); }
    .btn-primary:active { transform: translateY(0.5px); }

    .btn-ghost {
      border: 1px solid var(--arcana-border);
      color: var(--arcana-text);
      background: transparent;
      transition: background-color 160ms ease, border-color 160ms ease;
    }
    .btn-ghost:hover {
      background: rgba(255, 255, 255, 0.06);
      border-color: rgba(246, 241, 238, 0.22);
    }

    .input {
      border: 1px solid var(--arcana-border);
      background: rgba(12, 10, 9, 0.55);
      color: var(--arcana-text);
    }
    .input::placeholder {
      color: var(--arcana-text-muted);
      opacity: 0.9;
    }

    .brand-focus:focus {
      border-color: var(--arcana-primary);
      box-shadow: 0 0 0 2px var(--arcana-primary);
    }

    .bubble-user {
      background: var(--arcana-primary);
      color: var(--arcana-primary-text);
    }

    .bubble-assistant {
      border: 1px solid var(--arcana-border);
      background: rgba(12, 10, 9, 0.55);
      color: var(--arcana-text);
    }

    .link-brand { color: var(--arcana-primary); }

    .chip {
      border: 1px solid var(--arcana-border);
      color: var(--arcana-primary);
      background: rgba(12, 10, 9, 0.35);
      padding: 6px 10px;
      border-radius: 9999px;
      font-size: 12px;
      line-height: 16px;
      transition: background-color 160ms ease, border-color 160ms ease;
    }
    .chip:hover {
      background: rgba(12, 10, 9, 0.6);
      border-color: var(--arcana-primary);
    }

    /* Generic Cliento widget styling */
    #cliento-booking .cb-nav-item.active {
      background: var(--cb-color-primary) !important;
      color: #fff !important;
    }

    #cliento-booking .cb-day-header.today,
    #cliento-booking .cb-summary-table .cb-details,
    #cliento-booking .cb-slot strong {
      color: var(--cb-color-primary) !important;
    }

    #cliento-booking .cb-button,
    #cliento-booking button[type=button].cb-button,
    #cliento-booking button[type=submit].cb-button {
      background: var(--cb-color-primary) !important;
      border-radius: 12px !important;
      width: 100%;
    }

    #cliento-booking .cb-checkbox.checked {
      background: var(--cb-color-primary) !important;
      border-color: var(--cb-color-primary) !important;
    }
  </style>

  <script src="/app.js"></script>
</body>
</html>
